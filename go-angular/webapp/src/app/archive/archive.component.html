<mat-toolbar color="primary">
  <span class="tool-bar">Note-It</span>
  <span class="spacer"></span>
  <button mat-icon-button color="white" [matMenuTriggerFor]="menu">
    <mat-icon>menu</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="NewNote()">New Note</button>
    <button mat-menu-item (click)="Logout()">Log Out</button>
  </mat-menu>
</mat-toolbar>

<div fxLayout="row" fxLayoutAlign="center center" style="height: 12%">
  <mat-form-field appearance="fill">
    <mat-label>Sort by</mat-label>
    <mat-select [(ngModel)]="sortedValue">
      <mat-option value="Red" style="color: red" (click)="loadRed()"
        >Red</mat-option
      >
      <mat-option value="Blue" style="color: blue" (click)="loadBlue()"
        >Blue</mat-option
      >
      <mat-option value="Green" style="color: green" (click)="loadGreen()"
        >Green</mat-option
      >
      <mat-option value="Yellow" style="color: #d1cd00" (click)="loadYellow()"
        >Yellow</mat-option
      >
      <mat-option value="ShowAll" (click)="clearSort()">Show All</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<div class="card-space">
  <div fxLayout="row wrap" fxLayoutGap="16px grid">
    <div
      fxFlex="25%"
      fxFlex.xs="100%"
      fxFlex.sm="33%"
      *ngFor="let note of notes"
    >
      <mat-card class="mat-elevation-z4">
        <mat-card-header>
          <mat-card-title>{{ note.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content margin-bottom="1000px" margin-right="15px">
          <p [innerHTML]="note.preview"></p>
        </mat-card-content>
        <mat-card-actions>
          <button
            mat-button
            (click)="
              updateNote(note.title, note.tag, note.preview, note.content)
            "
          >
            Edit
          </button>
          <button mat-button (click)="deleteNote(note.title)">Delete</button>
        </mat-card-actions>
        <mat-card-footer>
          <div *ngIf="note.tag == 'Green'">
            <mat-progress-bar
              class="mat-green-theme"
              mode="determinate"
              value="100"
            ></mat-progress-bar>
          </div>
          <div *ngIf="note.tag == 'Blue'">
            <mat-progress-bar
              class="mat-blue-theme"
              mode="determinate"
              value="100"
            ></mat-progress-bar>
          </div>
          <div *ngIf="note.tag == 'Red'">
            <mat-progress-bar
              class="mat-red-theme"
              mode="determinate"
              value="100"
            ></mat-progress-bar>
          </div>
          <div *ngIf="note.tag == 'Yellow'">
            <mat-progress-bar
              class="mat-yellow-theme"
              mode="determinate"
              value="100"
            ></mat-progress-bar>
          </div>
        </mat-card-footer>
      </mat-card>
    </div>
  </div>
</div>
